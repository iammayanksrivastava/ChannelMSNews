{"ast":null,"code":"import _classCallCheck from\"/Users/mayanksrivastava/CodeRepo/channelmsnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mayanksrivastava/CodeRepo/channelmsnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mayanksrivastava/CodeRepo/channelmsnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mayanksrivastava/CodeRepo/channelmsnews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import News from\"./News\";import newsApi from\"../apis/newsApi\";var Category=/*#__PURE__*/function(_React$PureComponent){_inherits(Category,_React$PureComponent);var _super=_createSuper(Category);function Category(){var _this;_classCallCheck(this,Category);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={news:[]};_this.componentDidMount=function(){var categoryName=_this.props.match.params.CategoryName;console.log(_this.props);newsApi.get(\"top-headlines?country=GB&category=\".concat(categoryName,\"&pageSize=12&apiKey=8f47a48a41494480b72c7e5102db18ce\")).then(function(response){console.log(response);if(response.status===200){_this.props.history.replace({state:{fromNav:false}});_this.setState({news:response.data.articles});}}).catch(function(error){return console.log(error);});};_this.componentDidUpdate=function(prevProps,prevState){console.log(_this.props);var currCategory=_this.props.match.params.CategoryName;if(_this.props.location.state.fromNav===true){newsApi.get(\"top-headlines?country=GB&category=\".concat(currCategory,\"&pageSize=12&apiKey=8f47a48a41494480b72c7e5102db18ce\")).then(function(response){console.log(response);if(response.status===200){_this.props.history.replace({state:{fromNav:false}});_this.setState({news:response.data.articles});}}).catch(function(error){return console.log(error);});}};return _this;}_createClass(Category,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(News,{news:this.state.news}));}}]);return Category;}(React.PureComponent);export{Category as default};","map":{"version":3,"sources":["/Users/mayanksrivastava/CodeRepo/channelmsnews/src/components/Category.js"],"names":["React","News","newsApi","Category","state","news","componentDidMount","categoryName","props","match","params","CategoryName","console","log","get","then","response","status","history","replace","fromNav","setState","data","articles","catch","error","componentDidUpdate","prevProps","prevState","currCategory","location","PureComponent"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,C,GAEqBC,CAAAA,Q,uVACnBC,K,CAAQ,CACNC,IAAI,CAAE,EADA,C,OAIRC,iB,CAAoB,UAAM,CACxB,GAAIC,CAAAA,YAAY,CAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,YAA3C,CACAC,OAAO,CAACC,GAAR,CAAY,MAAKL,KAAjB,EACAN,OAAO,CACJY,GADH,6CAEyCP,YAFzC,0DAIGQ,IAJH,CAIQ,SAACC,QAAD,CAAc,CAClBJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACA,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3B,MAAKT,KAAL,CAAWU,OAAX,CAAmBC,OAAnB,CAA2B,CACzBf,KAAK,CAAE,CAAEgB,OAAO,CAAE,KAAX,CADkB,CAA3B,EAGA,MAAKC,QAAL,CAAc,CAAEhB,IAAI,CAAEW,QAAQ,CAACM,IAAT,CAAcC,QAAtB,CAAd,EACD,CACF,CAZH,EAaGC,KAbH,CAaS,SAACC,KAAD,QAAWb,CAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAAX,EAbT,EAcD,C,OAEDC,kB,CAAqB,SAACC,SAAD,CAAYC,SAAZ,CAA0B,CAC7ChB,OAAO,CAACC,GAAR,CAAY,MAAKL,KAAjB,EACA,GAAIqB,CAAAA,YAAY,CAAG,MAAKrB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,YAA3C,CACA,GAAI,MAAKH,KAAL,CAAWsB,QAAX,CAAoB1B,KAApB,CAA0BgB,OAA1B,GAAsC,IAA1C,CAAgD,CAC9ClB,OAAO,CACJY,GADH,6CAEyCe,YAFzC,0DAKGd,IALH,CAKQ,SAACC,QAAD,CAAc,CAClBJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACA,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3B,MAAKT,KAAL,CAAWU,OAAX,CAAmBC,OAAnB,CAA2B,CACzBf,KAAK,CAAE,CAAEgB,OAAO,CAAE,KAAX,CADkB,CAA3B,EAGA,MAAKC,QAAL,CAAc,CAAEhB,IAAI,CAAEW,QAAQ,CAACM,IAAT,CAAcC,QAAtB,CAAd,EACD,CACF,CAbH,EAcGC,KAdH,CAcS,SAACC,KAAD,QAAWb,CAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAAX,EAdT,EAeD,CACF,C,2EAEQ,CACP,mBACE,4CACE,oBAAC,IAAD,EAAM,IAAI,CAAE,KAAKrB,KAAL,CAAWC,IAAvB,EADF,CADF,CAKD,C,sBApDmCL,KAAK,CAAC+B,a,SAAvB5B,Q","sourcesContent":["import React from \"react\";\nimport News from \"./News\";\nimport newsApi from \"../apis/newsApi\";\n\nexport default class Category extends React.PureComponent {\n  state = {\n    news: [],\n  };\n\n  componentDidMount = () => {\n    let categoryName = this.props.match.params.CategoryName;\n    console.log(this.props);\n    newsApi\n      .get(\n        `top-headlines?country=GB&category=${categoryName}&pageSize=12&apiKey=8f47a48a41494480b72c7e5102db18ce`\n      )\n      .then((response) => {\n        console.log(response);\n        if (response.status === 200) {\n          this.props.history.replace({\n            state: { fromNav: false },\n          });\n          this.setState({ news: response.data.articles });\n        }\n      })\n      .catch((error) => console.log(error));\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    console.log(this.props);\n    let currCategory = this.props.match.params.CategoryName;\n    if (this.props.location.state.fromNav === true) {\n      newsApi\n        .get(\n          `top-headlines?country=GB&category=${currCategory}&pageSize=12&apiKey=8f47a48a41494480b72c7e5102db18ce`\n        ) \n\n        .then((response) => {\n          console.log(response);\n          if (response.status === 200) {\n            this.props.history.replace({\n              state: { fromNav: false },\n            });\n            this.setState({ news: response.data.articles });\n          }\n        })\n        .catch((error) => console.log(error));\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <News news={this.state.news} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}